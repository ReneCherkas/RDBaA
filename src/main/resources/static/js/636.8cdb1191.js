"use strict";(self["webpackChunklab4"]=self["webpackChunklab4"]||[]).push([[636],{6636:function(t,s,r){r.r(s),r.d(s,{default:function(){return l}});var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-wrapper"},[e("form",{staticClass:"login-form",on:{submit:function(s){return s.preventDefault(),t.checkForm(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.action,expression:"action"}],attrs:{checked:"",id:"signin",name:"action",type:"radio",value:"login"},domProps:{checked:t._q(t.action,"login")},on:{change:function(s){t.action="login"}}}),e("label",{staticClass:"log",attrs:{for:"signin"}},[t._v("Вход")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.action,expression:"action"}],attrs:{id:"signup",name:"action",type:"radio",value:"register"},domProps:{checked:t._q(t.action,"register")},on:{change:function(s){t.action="register"}}}),e("label",{staticClass:"log",attrs:{for:"signup"}},[t._v("Регистрация")]),e("div",{attrs:{id:"wrapper"}},[e("div",{attrs:{id:"arrow"}}),e("div",{staticClass:"warning",class:{invalid:!t.nameValid}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{minlength:"3",maxlength:"25",id:"name",placeholder:"Имя",type:"text"},domProps:{value:t.name},on:{input:function(s){s.target.composing||(t.name=s.target.value)}}}),e("span",{attrs:{"data-validate":t.errors.name}})]),e("div",{staticClass:"warning",class:{invalid:!t.passwordValid}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{minlength:"3",maxlength:"25",id:"password",placeholder:"Пароль",type:"password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}}),e("span",{attrs:{"data-validate":t.errors.password}})]),e("div",{staticClass:"warning",class:{invalid:!t.confirmValid}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirm,expression:"passwordConfirm"}],attrs:{minlength:"3",maxlength:"25",id:"confirm",placeholder:"Повторите пароль",type:"password"},domProps:{value:t.passwordConfirm},on:{input:function(s){s.target.composing||(t.passwordConfirm=s.target.value)}}}),e("span",{attrs:{"data-validate":t.errors.passwordConfirm}})])]),t._m(0),e("div",{staticClass:"response-message"},[e("p",{staticClass:"visible",class:[t.response.status>=200&&t.response.status<300?"green":"red"]},[t._v(t._s(t.response.message))])])]),e("footer",{staticClass:"link"},[e("router-link",{attrs:{to:{name:"start"}}},[e("img",{staticClass:"link",attrs:{src:r(2160),alt:"About Page"}})])],1),e("div",{staticClass:"back"})])},a=[function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("button",{attrs:{type:"submit"}},[r("span",[t._v(" Забыл пароль "),r("br"),t._v(" Войти "),r("br"),t._v(" Создать аккаунт ")])])}],o=(r(3429),r(560),{name:"Home",data(){return{action:"login",errors:{name:"",password:"",passwordConfirm:""},response:{status:null,message:""},success:"",name:null,password:null,passwordConfirm:null,nameValid:!0,passwordValid:!0,confirmValid:!0}},watch:{action:function(){this.nameValid=!0,this.passwordValid=!0,this.confirmValid=!0}},methods:{registerRequest:function(){this.$axios({method:"post",url:this.$BaseURL+this.action,headers:{"Content-Type":"application/json"},data:{username:this.name,password:this.password}}).then((t=>{this.response={status:t.status,message:"Аккаунт успешно создан!"}})).catch((t=>{this.response.status=t.response.status,409===t.response.status?this.response.message="Имя пользователя занято":this.response.message="Ошибка регистрации"})).finally((()=>{this.updateMessage()}))},loginRequest:function(){this.$axios({timeout:500,method:"post",url:this.$BaseURL+this.action,auth:{username:this.name,password:this.password}}).then((t=>{let s="Basic "+btoa(this.name+":"+this.password);localStorage.setItem("currentUser",s),this.$router.push("main")})).catch((t=>{t.response?401===t.response.status?this.response={status:401,message:"Неверный логин или пароль"}:this.response={status:t.response.status,message:"Ошибка авторизации"}:this.response={status:500,message:"Ошибка сервера"}})).finally((()=>{this.updateMessage()}))},checkForm:function(){this.name?this.name.match(/^[A-Za-z0-9]*$/)?this.nameValid=!0:(this.nameValid=!1,this.errors.name="Только латинские буквы и цифры"):(this.nameValid=!1,this.errors.name="Укажите имя"),this.password?this.password.match(/^[A-Za-z0-9]*$/)?this.passwordValid=!0:(this.passwordValid=!1,this.errors.password="Только латинские буквы и цифры"):(this.passwordValid=!1,this.errors.password="Укажите пароль"),this.passwordConfirm?this.password!==this.passwordConfirm?(this.confirmValid=!1,this.errors.passwordConfirm="Пароли не совпадают"):this.confirmValid=!0:(this.confirmValid=!1,this.errors.passwordConfirm="Укажите пароль еще раз"),"register"===this.action?this.nameValid&&this.passwordValid&&this.confirmValid&&this.registerRequest():"login"===this.action&&this.nameValid&&this.passwordValid&&this.loginRequest()},updateMessage(){const t=document.querySelector(".response-message p");t.classList.toggle("visible"),setTimeout((()=>t.classList.toggle("visible")),150)}}}),n=o,i=r(1001),c=(0,i.Z)(n,e,a,!1,null,"76dc3278",null),l=c.exports},2160:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFS0lEQVR4nNWaWWwVZRTHf1cs4oJGg6ma2LpEI2oVjBYlMSoaBCqJijzoAzGRRKnGurDERngwihs+KBEUo/ikEjWGJYgbUSv6ZFwDxoXW0moRJRTFalu45jT/j5xMZubei/dOb//Jl9zO+eYsM99Zp1BZNAFdwA5gOiMYO4C8VicjFKfJgC4t+13PCMRTUv41YI1+L2OE4TqgH9gPTAIu0+9++U1V4yJgCbBBStsbWOroj+qa0dZr70Sq0IgB59j/AA8AObfHfreKFvbZG5qQlZLnAs3ACmAz0APskVIB90uxPuAd3ZOE84B3tdfuuc/RWsW7R7JWSHYav0QcpnP8MtDtnl7celD3TNTTDdf/FS36RhaL5t/IhaLb/jRZXdJphnRMxLHAImB7AoMWYCpQB8wCBkW3J4aOyGKd/+Ajjzn+jzsfWae9wYhm0QbFu06yWiQ7hO+wfgIWAmOjRkyJPP1twHxgfIrhc4EDUuymCK3JRS2LWJO1t19P1GO29hndeCZhvHT6LvKQr/KOGhzwQ+CKyJFIw0LHMCmPrCmQR34RzXgVg5yU/9gFFrOBTbqwKsaAccDVevXLdSTagG+lQF+KIcVm9mCI8eoW7zbJMpnzdGLGxRj0gu7daBd+1R8mOOBsRY1w1tNWd0qSK6bWmllEUMnLf96XbtGHZfcPEfMKiadrwzLHoANYqfN5A9AoZrXAGNIxXcaYEdMK7DVeteLdKFnzJbvD6ROO5xnSOeg+FNd3unC4TnlhqzNkuNEuXbZKt/UuAe+UDUM4EVgdybrVVH7/HKOX6fpSjO8cNMic63Vgl5zUznCxuECJ7U1gi96mZemvgbeVE+4Gzi8hMno/2iXd5knXsuJw4HbgxyIc1q8eheV7lYeuAc5hmDA1kqC65ZyzlQTr5cANcvbbdIQ7UwxckrURC1yZYk54fYnH5SzgVuA5HZf3xKuXDLHS1U2tOl5RnATcIYd8S/6xSKE1CXmtTBDKkj/VCUYxSg1VXAQM63PgluE0ZJrewmCCEUepXAhva63KmxuBu4DnXSUR6rCxWRsyGvhegsw/4hBqH8vml6TwMd/Yrb2bdc2QiSEtEvKNjk8U14q+1/UZaah3ic4qZUPFDck5oUkTwy2i31MC3wZ1jP2qsfKVNmSSBLQnhNgG0X8DjiyR9zO69+ksDHlCAp5MoLeKbj5SKiboXt9iVwybChyrDaJbRi8VuUg/0kkFsU1Cknr48DQPtVZqUqTrKqJv+V/YJ0WPTqD/JbpNYqoaA1J0TAH6EVQ59krRUxLoIbnZPKqq0SlFrXGKw1eiW5j2mCL/2n0I69PIoKEsaJOi1vzE4Q3R5xTRopay1pbbkFVi7AfXHgtEfzZhZtWukakdveNT1smStUf3WXtcVswVY2t+0jL/9kjmn+X8JxSTaWPY1W5ve5gglhOnaja7L6EEGeWGcdGqd7Ra4jDiNJ9Jwt/aY21yxfCZhNyZQA9fpF5NoNcUkY/yWZTxc9zAzpSKok5PdDDlk1pvgcSZz6qx+kGCrNuLwyPu+8UJ1WpIGJTlVZIcHFM6HKNpuu35UoO4qjTEt7MdCZ8J6lxLbH37J8CL+ra4P8UQe+N5BZVMYPXURy6cXhyz5zjllOgkZUDBoCYm6r2iPV+QIWzy8YEEW6v6kCYocQbNUB6aqYQXRa2bvPRm+bk6oEYd4wHX5j6sAVzccCKKMzXw/sPdfynDiEb5gT9Cv2u6uFyz3GYNq5dq8hh8KKyNSrpVgcmqk8JHo0KrTzPfK6lS5NTy3qwi02ZWNmG0/2Kwo2fz4MuL+GxXEv4DUIg58jGOI/0AAAAASUVORK5CYII="},3550:function(t,s,r){var e=r(9985),a=String,o=TypeError;t.exports=function(t){if("object"==typeof t||e(t))return t;throw new o("Can't set "+a(t)+" as a prototype")}},767:function(t,s,r){var e=r(3622),a=TypeError;t.exports=function(t,s){if(e(s,t))return t;throw new a("Incorrect invocation")}},926:function(t,s,r){var e=r(3043),a=r(9985),o=r(6648),n=r(4201),i=n("toStringTag"),c=Object,l="Arguments"===o(function(){return arguments}()),d=function(t,s){try{return t[s]}catch(r){}};t.exports=e?o:function(t){var s,r,e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=d(s=c(t),i))?r:l?o(s):"Object"===(e=o(s))&&a(s.callee)?"Arguments":e}},7136:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},6610:function(t,s,r){var e=r(8844),a=Error,o=e("".replace),n=function(t){return String(new a(t).stack)}("zxcasd"),i=/\n\s*at [^:]*:[^\n]*/,c=i.test(n);t.exports=function(t,s){if(c&&"string"==typeof t&&!a.prepareStackTrace)while(s--)t=o(t,i,"");return t}},2743:function(t,s,r){var e=r(8844),a=r(509);t.exports=function(t,s,r){try{return e(a(Object.getOwnPropertyDescriptor(t,s)[r]))}catch(o){}}},3457:function(t,s,r){var e=r(9985),a=r(8999),o=r(9385);t.exports=function(t,s,r){var n,i;return o&&e(n=s.constructor)&&n!==r&&a(i=n.prototype)&&i!==r.prototype&&o(t,i),t}},3841:function(t,s,r){var e=r(4327);t.exports=function(t,s){return void 0===t?arguments.length<2?"":s:e(t)}},9385:function(t,s,r){var e=r(2743),a=r(5027),o=r(3550);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,s=!1,r={};try{t=e(Object.prototype,"__proto__","set"),t(r,[]),s=r instanceof Array}catch(n){}return function(r,e){return a(r),o(e),s?t(r,e):r.__proto__=e,r}}():void 0)},3043:function(t,s,r){var e=r(4201),a=e("toStringTag"),o={};o[a]="z",t.exports="[object z]"===String(o)},4327:function(t,s,r){var e=r(926),a=String;t.exports=function(t){if("Symbol"===e(t))throw new TypeError("Cannot convert a Symbol value to a string");return a(t)}},3429:function(t,s,r){var e=r(9989),a=r(9037),o=r(6058),n=r(5684),i=r(2560).f,c=r(6812),l=r(767),d=r(3457),p=r(3841),u=r(7136),m=r(6610),h=r(7697),E=r(3931),g="DOMException",f=o("Error"),A=o(g),R=function(){l(this,v);var t=arguments.length,s=p(t<1?void 0:arguments[0]),r=p(t<2?void 0:arguments[1],"Error"),e=new A(s,r),a=new f(s);return a.name=g,i(e,"stack",n(1,m(a.stack,1))),d(e,this,R),e},v=R.prototype=A.prototype,w="stack"in new f(g),C="stack"in new A(1,2),_=A&&h&&Object.getOwnPropertyDescriptor(a,g),T=!!_&&!(_.writable&&_.configurable),b=w&&!T&&!C;e({global:!0,constructor:!0,forced:E||b},{DOMException:b?R:A});var y=o(g),I=y.prototype;if(I.constructor!==y)for(var N in E||i(I,"constructor",n(1,y)),u)if(c(u,N)){var O=u[N],V=O.s;c(y,V)||i(y,V,n(6,O.c))}}}]);
//# sourceMappingURL=636.8cdb1191.js.map