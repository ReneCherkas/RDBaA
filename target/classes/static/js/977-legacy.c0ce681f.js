"use strict";(self["webpackChunklab4"]=self["webpackChunklab4"]||[]).push([[977],{3977:function(t,r,e){e.r(r),e.d(r,{default:function(){return u}});var n=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"form-wrapper"},[e("form",{staticClass:"login-form",on:{submit:function(r){return r.preventDefault(),t.checkForm(r)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.action,expression:"action"}],attrs:{checked:"",id:"signin",name:"action",type:"radio",value:"login"},domProps:{checked:t._q(t.action,"login")},on:{change:function(r){t.action="login"}}}),e("label",{staticClass:"log",attrs:{for:"signin"}},[t._v("Вход")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.action,expression:"action"}],attrs:{id:"signup",name:"action",type:"radio",value:"register"},domProps:{checked:t._q(t.action,"register")},on:{change:function(r){t.action="register"}}}),e("label",{staticClass:"log",attrs:{for:"signup"}},[t._v("Регистрация")]),e("div",{attrs:{id:"wrapper"}},[e("div",{attrs:{id:"arrow"}}),e("div",{staticClass:"warning",class:{invalid:!t.nameValid}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{minlength:"3",maxlength:"25",id:"name",placeholder:"Имя",type:"text"},domProps:{value:t.name},on:{input:function(r){r.target.composing||(t.name=r.target.value)}}}),e("span",{attrs:{"data-validate":t.errors.name}})]),e("div",{staticClass:"warning",class:{invalid:!t.passwordValid}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{minlength:"3",maxlength:"25",id:"password",placeholder:"Пароль",type:"password"},domProps:{value:t.password},on:{input:function(r){r.target.composing||(t.password=r.target.value)}}}),e("span",{attrs:{"data-validate":t.errors.password}})]),e("div",{staticClass:"warning",class:{invalid:!t.confirmValid}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirm,expression:"passwordConfirm"}],attrs:{minlength:"3",maxlength:"25",id:"confirm",placeholder:"Повторите пароль",type:"password"},domProps:{value:t.passwordConfirm},on:{input:function(r){r.target.composing||(t.passwordConfirm=r.target.value)}}}),e("span",{attrs:{"data-validate":t.errors.passwordConfirm}})])]),t._m(0),e("div",{staticClass:"response-message"},[e("p",{staticClass:"visible",class:[t.response.status>=200&&t.response.status<300?"green":"red"]},[t._v(t._s(t.response.message))])])]),e("footer",{staticClass:"link"},[e("router-link",{attrs:{to:{name:"start"}}},[e("img",{staticClass:"link",attrs:{src:"public/favicon.png",alt:"About Page"}})])],1),e("div",{staticClass:"back"})])},s=[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("button",{attrs:{type:"submit"}},[e("span",[t._v(" Забыл пароль "),e("br"),t._v(" Войти "),e("br"),t._v(" Создать аккаунт ")])])}],a=(e(228),e(4284),e(4645),e(7337),e(3429),e(7462),e(560),e(4043),e(2462),{name:"Home",data:function(){return{action:"login",errors:{name:"",password:"",passwordConfirm:""},response:{status:null,message:""},success:"",name:null,password:null,passwordConfirm:null,nameValid:!0,passwordValid:!0,confirmValid:!0}},watch:{action:function(){this.nameValid=!0,this.passwordValid=!0,this.confirmValid=!0}},methods:{registerRequest:function(){var t=this;this.$axios({method:"post",url:this.$BaseURL+this.action,headers:{"Content-Type":"application/json"},data:{username:this.name,password:this.password}}).then((function(r){t.response={status:r.status,message:"Аккаунт успешно создан!"}})).catch((function(r){t.response.status=r.response.status,409===r.response.status?t.response.message="Имя пользователя занято":t.response.message="Ошибка регистрации"})).finally((function(){t.updateMessage()}))},loginRequest:function(){var t=this;this.$axios({timeout:500,method:"post",url:this.$BaseURL+this.action,auth:{username:this.name,password:this.password}}).then((function(r){var e="Basic "+btoa(t.name+":"+t.password);localStorage.setItem("currentUser",e),t.$router.push("main")})).catch((function(r){r.response?401===r.response.status?t.response={status:401,message:"Неверный логин или пароль"}:t.response={status:r.response.status,message:"Ошибка авторизации"}:t.response={status:500,message:"Ошибка сервера"}})).finally((function(){t.updateMessage()}))},checkForm:function(){this.name?this.name.match(/^[A-Za-z0-9]*$/)?this.nameValid=!0:(this.nameValid=!1,this.errors.name="Только латинские буквы и цифры"):(this.nameValid=!1,this.errors.name="Укажите имя"),this.password?this.password.match(/^[A-Za-z0-9]*$/)?this.passwordValid=!0:(this.passwordValid=!1,this.errors.password="Только латинские буквы и цифры"):(this.passwordValid=!1,this.errors.password="Укажите пароль"),this.passwordConfirm?this.password!==this.passwordConfirm?(this.confirmValid=!1,this.errors.passwordConfirm="Пароли не совпадают"):this.confirmValid=!0:(this.confirmValid=!1,this.errors.passwordConfirm="Укажите пароль еще раз"),"register"===this.action?this.nameValid&&this.passwordValid&&this.confirmValid&&this.registerRequest():"login"===this.action&&this.nameValid&&this.passwordValid&&this.loginRequest()},updateMessage:function(){var t=document.querySelector(".response-message p");t.classList.toggle("visible"),setTimeout((function(){return t.classList.toggle("visible")}),150)}}}),o=a,i=e(1001),c=(0,i.Z)(o,n,s,!1,null,"a92a67ec",null),u=c.exports},1514:function(t,r,e){var n=e(730).charAt;t.exports=function(t,r,e){return r+(e?n(t,r).length:1)}},5649:function(t,r,e){var n=e(7697),s=e(2297),a=TypeError,o=Object.getOwnPropertyDescriptor,i=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=i?function(t,r){if(s(t)&&!o(t,"length").writable)throw new a("Cannot set read only .length");return t.length=r}:function(t,r){return t.length=r}},8368:function(t){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e={},n=0;n<66;n++)e[r.charAt(n)]=n;t.exports={itoc:r,ctoi:e}},5565:function(t){var r=TypeError,e=9007199254740991;t.exports=function(t){if(t>e)throw r("Maximum allowed index exceeded");return t}},7136:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},6610:function(t,r,e){var n=e(8844),s=Error,a=n("".replace),o=function(t){return String(new s(t).stack)}("zxcasd"),i=/\n\s*at [^:]*:[^\n]*/,c=i.test(o);t.exports=function(t,r){if(c&&"string"==typeof t&&!s.prepareStackTrace)while(r--)t=a(t,i,"");return t}},445:function(t,r,e){var n=e(7697),s=e(3689),a=e(5027),o=e(3841),i=Error.prototype.toString,c=s((function(){if(n){var t=Object.create(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==i.call(t))return!0}return"2: 1"!==i.call({message:1,name:2})||"Error"!==i.call({})}));t.exports=c?function(){var t=a(this),r=o(t.name,"Error"),e=o(t.message);return r?e?r+": "+e:r:e}:i},8678:function(t,r,e){e(4043);var n=e(6576),s=e(1880),a=e(6308),o=e(3689),i=e(4201),c=e(5773),u=i("species"),l=RegExp.prototype;t.exports=function(t,r,e,p){var d=i(t),f=!o((function(){var r={};return r[d]=function(){return 7},7!==""[t](r)})),m=f&&!o((function(){var r=!1,e=/a/;return"split"===t&&(e={},e.constructor={},e.constructor[u]=function(){return e},e.flags="",e[d]=/./[d]),e.exec=function(){return r=!0,null},e[d](""),!r}));if(!f||!m||e){var h=n(/./[d]),g=r(d,""[t],(function(t,r,e,s,o){var i=n(t),c=r.exec;return c===a||c===l.exec?f&&!o?{done:!0,value:h(r,e,s)}:{done:!0,value:i(e,r,s)}:{done:!1}}));s(String.prototype,t,g[0]),s(l,d,g[1])}p&&c(l[d],"sham",!0)}},3457:function(t,r,e){var n=e(9985),s=e(8999),a=e(9385);t.exports=function(t,r,e){var o,i;return a&&n(o=r.constructor)&&o!==e&&s(i=o.prototype)&&i!==e.prototype&&a(t,i),t}},2297:function(t,r,e){var n=e(6648);t.exports=Array.isArray||function(t){return"Array"===n(t)}},3841:function(t,r,e){var n=e(4327);t.exports=function(t,r){return void 0===t?arguments.length<2?"":r:n(t)}},6100:function(t,r,e){var n=e(2615),s=e(5027),a=e(9985),o=e(6648),i=e(6308),c=TypeError;t.exports=function(t,r){var e=t.exec;if(a(e)){var u=n(e,t,r);return null!==u&&s(u),u}if("RegExp"===o(t))return n(i,t,r);throw new c("RegExp#exec called on incompatible receiver")}},6308:function(t,r,e){var n=e(2615),s=e(8844),a=e(4327),o=e(9633),i=e(7901),c=e(3430),u=e(5391),l=e(618).get,p=e(2100),d=e(6422),f=c("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,h=m,g=s("".charAt),v=s("".indexOf),E=s("".replace),w=s("".slice),x=function(){var t=/a/,r=/b*/g;return n(m,t,"a"),n(m,r,"a"),0!==t.lastIndex||0!==r.lastIndex}(),R=i.BROKEN_CARET,_=void 0!==/()??/.exec("")[1],y=x||_||R||p||d;y&&(h=function(t){var r,e,s,i,c,p,d,y=this,I=l(y),b=a(t),C=I.raw;if(C)return C.lastIndex=y.lastIndex,r=n(h,C,b),y.lastIndex=C.lastIndex,r;var A=I.groups,T=R&&y.sticky,O=n(o,y),S=y.source,N=0,D=b;if(T&&(O=E(O,"y",""),-1===v(O,"g")&&(O+="g"),D=w(b,y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&"\n"!==g(b,y.lastIndex-1))&&(S="(?: "+S+")",D=" "+D,N++),e=new RegExp("^(?:"+S+")",O)),_&&(e=new RegExp("^"+S+"$(?!\\s)",O)),x&&(s=y.lastIndex),i=n(m,T?e:y,D),T?i?(i.input=w(i.input,N),i[0]=w(i[0],N),i.index=y.lastIndex,y.lastIndex+=i[0].length):y.lastIndex=0:x&&i&&(y.lastIndex=y.global?i.index+i[0].length:s),_&&i&&i.length>1&&n(f,i[0],e,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(i[c]=void 0)})),i&&A)for(i.groups=p=u(null),c=0;c<A.length;c++)d=A[c],p[d[0]]=i[d[1]];return i}),t.exports=h},9633:function(t,r,e){var n=e(5027);t.exports=function(){var t=n(this),r="";return t.hasIndices&&(r+="d"),t.global&&(r+="g"),t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),t.dotAll&&(r+="s"),t.unicode&&(r+="u"),t.unicodeSets&&(r+="v"),t.sticky&&(r+="y"),r}},7901:function(t,r,e){var n=e(3689),s=e(9037),a=s.RegExp,o=n((function(){var t=a("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),i=o||n((function(){return!a("a","y").sticky})),c=o||n((function(){var t=a("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:c,MISSED_STICKY:i,UNSUPPORTED_Y:o}},2100:function(t,r,e){var n=e(3689),s=e(9037),a=s.RegExp;t.exports=n((function(){var t=a(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},6422:function(t,r,e){var n=e(3689),s=e(9037),a=s.RegExp;t.exports=n((function(){var t=a("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},1905:function(t,r,e){var n=e(806);t.exports=function(t){try{if(n)return Function('return require("'+t+'")')()}catch(r){}}},560:function(t,r,e){var n=e(9989),s=e(690),a=e(6310),o=e(5649),i=e(5565),c=e(3689),u=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},p=u||!l();n({target:"Array",proto:!0,arity:1,forced:p},{push:function(t){var r=s(this),e=a(r),n=arguments.length;i(e+n);for(var c=0;c<n;c++)r[e]=arguments[c],e++;return o(r,e),e}})},4284:function(t,r,e){var n=e(7697),s=e(1236).EXISTS,a=e(8844),o=e(2148),i=Function.prototype,c=a(i.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=a(u.exec),p="name";n&&!s&&o(i,p,{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(t){return""}}})},4043:function(t,r,e){var n=e(9989),s=e(6308);n({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},2462:function(t,r,e){var n=e(2615),s=e(8678),a=e(5027),o=e(981),i=e(3126),c=e(4327),u=e(4684),l=e(4849),p=e(1514),d=e(6100);s("match",(function(t,r,e){return[function(r){var e=u(this),s=o(r)?void 0:l(r,t);return s?n(s,r,e):new RegExp(r)[t](c(e))},function(t){var n=a(this),s=c(t),o=e(r,n,s);if(o.done)return o.value;if(!n.global)return d(n,s);var u=n.unicode;n.lastIndex=0;var l,f=[],m=0;while(null!==(l=d(n,s))){var h=c(l[0]);f[m]=h,""===h&&(n.lastIndex=p(s,i(n.lastIndex),u)),m++}return 0===m?null:f}]}))},4645:function(t,r,e){var n=e(9989),s=e(9037),a=e(6058),o=e(8844),i=e(2615),c=e(3689),u=e(4327),l=e(1500),p=e(8368).itoc,d=a("btoa"),f=o("".charAt),m=o("".charCodeAt),h=!!d&&!c((function(){d()})),g=!!d&&c((function(){return"bnVsbA=="!==d(null)})),v=!!d&&1!==d.length;n({global:!0,bind:!0,enumerable:!0,forced:h||g||v},{btoa:function(t){if(l(arguments.length,1),h||g||v)return i(d,s,u(t));var r,e,n=u(t),o="",c=0,E=p;while(f(n,c)||(E="=",c%1)){if(e=m(n,c+=3/4),e>255)throw new(a("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");r=r<<8|e,o+=f(E,63&r>>8-c%1*8)}return o}})},7337:function(t,r,e){var n=e(9989),s=e(1905),a=e(6058),o=e(3689),i=e(5391),c=e(5684),u=e(2560).f,l=e(1880),p=e(2148),d=e(6812),f=e(767),m=e(5027),h=e(445),g=e(3841),v=e(7136),E=e(6610),w=e(618),x=e(7697),R=e(3931),_="DOMException",y="DATA_CLONE_ERR",I=a("Error"),b=a(_)||function(){try{var t=a("MessageChannel")||s("worker_threads").MessageChannel;(new t).port1.postMessage(new WeakMap)}catch(r){if(r.name===y&&25===r.code)return r.constructor}}(),C=b&&b.prototype,A=I.prototype,T=w.set,O=w.getterFor(_),S="stack"in new I(_),N=function(t){return d(v,t)&&v[t].m?v[t].c:0},D=function(){f(this,V);var t=arguments.length,r=g(t<1?void 0:arguments[0]),e=g(t<2?void 0:arguments[1],"Error"),n=N(e);if(T(this,{type:_,name:e,message:r,code:n}),x||(this.name=e,this.message=r,this.code=n),S){var s=new I(r);s.name=_,u(this,"stack",c(1,E(s.stack,1)))}},V=D.prototype=i(A),M=function(t){return{enumerable:!0,configurable:!0,get:t}},k=function(t){return M((function(){return O(this)[t]}))};x&&(p(V,"code",k("code")),p(V,"message",k("message")),p(V,"name",k("name"))),u(V,"constructor",c(1,D));var L=o((function(){return!(new b instanceof I)})),P=L||o((function(){return A.toString!==h||"2: 1"!==String(new b(1,2))})),U=L||o((function(){return 25!==new b(1,"DataCloneError").code})),$=L||25!==b[y]||25!==C[y],q=R?P||U||$:L;n({global:!0,constructor:!0,forced:q},{DOMException:q?D:b});var F=a(_),j=F.prototype;for(var B in P&&(R||b===F)&&l(j,"toString",h),U&&x&&b===F&&p(j,"code",M((function(){return N(m(this).name)}))),v)if(d(v,B)){var H=v[B],Y=H.s,W=c(6,H.c);d(F,Y)||u(F,Y,W),d(j,Y)||u(j,Y,W)}},3429:function(t,r,e){var n=e(9989),s=e(9037),a=e(6058),o=e(5684),i=e(2560).f,c=e(6812),u=e(767),l=e(3457),p=e(3841),d=e(7136),f=e(6610),m=e(7697),h=e(3931),g="DOMException",v=a("Error"),E=a(g),w=function(){u(this,x);var t=arguments.length,r=p(t<1?void 0:arguments[0]),e=p(t<2?void 0:arguments[1],"Error"),n=new E(r,e),s=new v(r);return s.name=g,i(n,"stack",o(1,f(s.stack,1))),l(n,this,w),n},x=w.prototype=E.prototype,R="stack"in new v(g),_="stack"in new E(1,2),y=E&&m&&Object.getOwnPropertyDescriptor(s,g),I=!!y&&!(y.writable&&y.configurable),b=R&&!I&&!_;n({global:!0,constructor:!0,forced:h||b},{DOMException:b?w:E});var C=a(g),A=C.prototype;if(A.constructor!==C)for(var T in h||i(A,"constructor",o(1,C)),d)if(c(d,T)){var O=d[T],S=O.s;c(C,S)||i(C,S,o(6,O.c))}},7462:function(t,r,e){var n=e(6058),s=e(5997),a="DOMException";s(n(a),a)}}]);
//# sourceMappingURL=977-legacy.c0ce681f.js.map